<p style="color: green"><%= notice %></p>

<%= render @location %>

<div>
  <% @daily_temperatures.each_with_index do |day_temps, index| %>
    <div>
      <p>Debug - Day Index: <%= index + 1 %></p>
      <% if day_temps.first.is_a?(Hash) %>
        <p>Debug - Timestamp: <%= day_temps.first['timestamp'] %></p>
      <% else %>
        <p>Debug - Timestamp: <%= day_temps.first %></p>
      <% end %>
      <p>Debug - Max Temperature: <%= @daily_max_temps[index] %>째C</p>
      <p>Debug - Min Temperature: <%= @daily_min_temps[index] %>째C</p>
      <% if day_temps.first.is_a?(Hash) %>
        <p>Day <%= index + 1 %>: <%= DateTime.parse(day_temps.first['timestamp']).strftime('%Y-%m-%d') %></p>
      <% else %>
        <p>Day <%= index + 1 %>: <%= DateTime.parse(day_temps.first).strftime('%Y-%m-%d') %></p>
      <% end %>
      <p>Max Temperature: <%= @daily_max_temps[index] %>째C</p>
      <p>Min Temperature: <%= @daily_min_temps[index] %>째C</p>
    </div>
  <% end %>
</div>



<div>
  <%= link_to "Edit this location", edit_location_path(@location) %> |
  <%= link_to "Back to locations", locations_path %>

  <%= button_to "Destroy this location", @location, method: :delete %>
</div>
